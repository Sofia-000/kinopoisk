# Kinopoisk Test Automation

Проект автоматизации тестирования сайта Kinopoisk с использованием Selenium WebDriver и Pytest.

## Структура проекта

```
├── config/          # Конфигурационные файлы
├── pages/           # Page Object Model классы
├── tests/           # Тестовые сценарии
├── utils/           # вспомогательные файлы
├── utils/           # переменные файлы
├── cookies.json     # Куки для аутентификации
├── cookies.json     # настройка pytest
└── requirements.txt # Зависимости проекта
```

## Установка и настройка

### 1. Активация виртуального окружения

**Linux/macOS:**
```bash
python3 -m venv venv
source venv/bin/activate
```

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

### 2. Установка зависимостей

```bash
pip install -r requirements.txt
```

## Запуск тестов

### Запуск конкретного теста:
```bash
pytest tests/test_ui.py::test_watch_movie_online -v
```

### Запуск по маркерам:

**API тесты:**
```bash
pytest -m "api"
```

**UI тесты:**
```bash
pytest -m "ui"
```

### Запуск всех тестов:
```bash
pytest -v
```

## Аутентификация

**Важно:** Сайт Kinopoisk использует двухфакторную аутентификацию и CSRF токены, что делает невозможным автоматическое тестирование функциональности, требующей авторизации, через стандартные API/UI подходы.

**Решение:** В проекте используются предварительно сохраненные куки из авторизованной сессии, которые хранятся в файле `cookies.json`. Эти куки загружаются при выполнении тестов для обхода процесса аутентификации.

## Тестовые сценарии

- Поиск фильмов
- Открытие статей
- Покупка билетов в кино
- Просмотр фильмов онлайн в HD Кинопоиске
- API тесты для работы с Kinopoisk API
